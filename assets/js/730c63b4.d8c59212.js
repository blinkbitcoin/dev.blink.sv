"use strict";(self.webpackChunkdev_blink_sv=self.webpackChunkdev_blink_sv||[]).push([[409],{6029:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var s=t(4848),a=t(8453);const i={id:"pagination",title:"Pagination",slug:"/api/pagination"},r=void 0,o={id:"api/pagination",title:"Pagination",description:"When you access the list of transactions all items will have an associated cursor position. This cursor can be used to paginate through the list by defining the after variable in the GraphQL request.",source:"@site/docs/api/pagination.md",sourceDirName:"api",slug:"/api/pagination",permalink:"/api/pagination",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"pagination",title:"Pagination",slug:"/api/pagination"},sidebar:"apiSidebar",previous:{title:"Send USD onchain",permalink:"/api/usd-onchain-send"},next:{title:"Webhooks",permalink:"/api/webhooks"}},c={},l=[{value:"Example request with pagination",id:"example-request-with-pagination",level:2},{value:"Variables",id:"variables",level:3},{value:"Sample response showing the first 3 transactions",id:"sample-response-showing-the-first-3-transactions",level:3},{value:"Variables to show the next two transactions",id:"variables-to-show-the-next-two-transactions",level:2},{value:"Sample response showing the next two transactions",id:"sample-response-showing-the-next-two-transactions",level:3}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:["When you access the list of transactions all items will have an associated cursor position. This cursor can be used to paginate through the list by defining the ",(0,s.jsx)(e.code,{children:"after"})," variable in the GraphQL request."]}),"\n",(0,s.jsx)(e.h2,{id:"example-request-with-pagination",children:"Example request with pagination"}),"\n",(0,s.jsxs)(e.p,{children:["Note the ",(0,s.jsx)(e.code,{children:"pageInfo"})," object containing the cursor and page values. The ",(0,s.jsx)(e.code,{children:"edges"})," object contains the transaction data."]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"endCursor"}),": When paginating forwards, the cursor to continue."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"hasNextPage"}),": When paginating forwards, are there more items?"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-graphql",children:"query transactionsForAccount($walletIds: [WalletId], $first: Int, $after: String) {\n  me {\n    id\n    defaultAccount {\n      transactions(walletIds: $walletIds, first: $first, after: $after) {\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            direction\n            settlementCurrency\n            settlementDisplayAmount\n            status\n            createdAt\n          }\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"variables",children:"Variables"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"first"})," (Int): Returns the first n items from the list."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"after"})," (String): Returns the items in the list that come after the specified cursor."]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"The variables used in the request to show the 3 most recent transactions for the default account:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "first": 2,\n  "after": null\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"sample-response-showing-the-first-3-transactions",children:"Sample response showing the first 3 transactions"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "me": {\n      "id": "dd3771d0-66b2-4b28-8757-b1a5db0f8fcf",\n      "defaultAccount": {\n        "transactions": {\n          "pageInfo": {\n            "endCursor": "653787e933905fc03c13e2bc",\n            "hasNextPage": true\n          },\n          "edges": [\n            {\n              "cursor": "6538bda9491e13fd6416b5f3",\n              "node": {\n                "direction": "RECEIVE",\n                "settlementCurrency": "USD",\n                "settlementDisplayAmount": "0.01",\n                "status": "SUCCESS",\n                "createdAt": 1698217385\n              }\n            },\n            {\n              "cursor": "6538b68c491e13fd6416722d",\n              "node": {\n                "direction": "RECEIVE",\n                "settlementCurrency": "USD",\n                "settlementDisplayAmount": "1.00",\n                "status": "SUCCESS",\n                "createdAt": 1698215564\n              }\n            },\n            {\n              "cursor": "653787e933905fc03c13e2bc",\n              "node": {\n                "direction": "RECEIVE",\n                "settlementCurrency": "BTC",\n                "settlementDisplayAmount": "0.47",\n                "status": "SUCCESS",\n                "createdAt": 1698138089\n              }\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"variables-to-show-the-next-two-transactions",children:"Variables to show the next two transactions"}),"\n",(0,s.jsxs)(e.p,{children:["To show the next two transactions the ",(0,s.jsx)(e.code,{children:"endCursor"})," value from the previous response is used as the ",(0,s.jsx)(e.code,{children:"after"})," variable in the next request:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "first": 2,\n  "after": "653787e933905fc03c13e2bc"\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"sample-response-showing-the-next-two-transactions",children:"Sample response showing the next two transactions"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "data": {\n    "me": {\n      "id": "dd3771d0-66b2-4b28-8757-b1a5db0f8fcf",\n      "defaultAccount": {\n        "transactions": {\n          "pageInfo": {\n            "endCursor": "653787c033905fc03c13e0a3",\n            "hasNextPage": true\n          },\n          "edges": [\n            {\n              "cursor": "653787e933905fc03c13e286",\n              "node": {\n                "direction": "SEND",\n                "settlementCurrency": "BTC",\n                "settlementDisplayAmount": "-0.47",\n                "status": "SUCCESS",\n                "createdAt": 1698138089\n              }\n            },\n            {\n              "cursor": "653787c033905fc03c13e0a3",\n              "node": {\n                "direction": "SEND",\n                "settlementCurrency": "BTC",\n                "settlementDisplayAmount": "-0.47",\n                "status": "SUCCESS",\n                "createdAt": 1698138048\n              }\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,s.jsx)(e.admonition,{type:"tip",children:(0,s.jsxs)(e.p,{children:["To test the GraphQL requests further use the GraphQL playground at ",(0,s.jsx)(e.a,{href:"https://api.blink.sv/graphql",children:"api.blink.sv/graphql"})," for mainnet or ",(0,s.jsx)(e.a,{href:"https://api.staging.blink.sv/graphql",children:"api.staging.blink.sv/graphql"})," for staging.",(0,s.jsx)("br",{}),"\nCheck out the ",(0,s.jsx)(e.a,{href:"https://documenter.getpostman.com/view/29391384/2s9YCAQq3z#ae685bc1-d637-48b2-8e32-4600eefc9a4e",children:"Blink API Postman collection"})," to find examples in multiple programming languages."]})})]})}function h(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>o});var s=t(6540);const a={},i=s.createContext(a);function r(n){const e=s.useContext(i);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),s.createElement(i.Provider,{value:e},n.children)}}}]);